<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net10.0</TargetFramework>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <AbiIdlPath>$(MSBuildProjectDirectory)/../../abi/generated/lumenrtc/lumenrtc.idl.json</AbiIdlPath>
    <AbiNamespace>LumenRTC.Interop</AbiNamespace>
    <AbiClassName>NativeMethods</AbiClassName>
    <AbiAccessModifier>internal</AbiAccessModifier>
    <AbiCallingConvention>Cdecl</AbiCallingConvention>
    <AbiLibraryExpression>LibName</AbiLibraryExpression>
    <AbiManagedMetadataPath>$(MSBuildProjectDirectory)/../../abi/bindings/lumenrtc.managed.json</AbiManagedMetadataPath>
    <AbiManagedApiMetadataPath>$(MSBuildProjectDirectory)/../../abi/bindings/lumenrtc.managed_api.json</AbiManagedApiMetadataPath>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\tools\lumenrtc_roslyn_codegen\Abi.RoslynGenerator.csproj"
                      OutputItemType="Analyzer"
                      ReferenceOutputAssembly="false" />
    <AdditionalFiles Include="$(AbiIdlPath)" />
    <AdditionalFiles Include="$(AbiManagedMetadataPath)" />
    <AdditionalFiles Include="$(AbiManagedApiMetadataPath)" />
  </ItemGroup>

  <ItemGroup>
    <CompilerVisibleProperty Include="AbiIdlPath" />
    <CompilerVisibleProperty Include="AbiNamespace" />
    <CompilerVisibleProperty Include="AbiClassName" />
    <CompilerVisibleProperty Include="AbiAccessModifier" />
    <CompilerVisibleProperty Include="AbiCallingConvention" />
    <CompilerVisibleProperty Include="AbiLibraryExpression" />
    <CompilerVisibleProperty Include="AbiManagedMetadataPath" />
    <CompilerVisibleProperty Include="AbiManagedApiMetadataPath" />
  </ItemGroup>
</Project>
